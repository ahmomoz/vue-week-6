import{_ as u,c as m,a as e,i as a,v as l,j as d,o as c}from"./index-Zg-dMfv0.js";const p={data(){return{user:{username:"",password:""}}},methods:{login(){this.user.username&&this.user.password?this.$axios.post("https://vue3-course-api.hexschool.io/v2/admin/signin",this.user).then(n=>{const{token:s,expired:i}=n.data;document.cookie=`hexToken = ${s}; expires=${new Date(i)};`,this.$Swal.fire("登入成功"),this.$router.push("/admin")}).catch(()=>{this.$Swal.fire("請檢查帳號密碼是否有誤")}):this.$Swal.fire("請填入正確資料")}}},f={class:"container"},h={class:"row justify-content-center"},w={class:"col-4 mt-5"},_=e("h1",{class:"h3 mb-3 font-weight-normal"}," 請先登入 ",-1),g={id:"form",class:"form-signin"},v={class:"form-floating mb-3"},x=e("label",{for:"username"},"Email address",-1),b={class:"form-floating"},y=e("label",{for:"password"},"Password",-1);function k(n,s,i,V,r,t){return c(),m("div",f,[e("div",h,[e("div",w,[_,e("form",g,[e("div",v,[a(e("input",{"onUpdate:modelValue":s[0]||(s[0]=o=>r.user.username=o),onKeyup:s[1]||(s[1]=d((...o)=>t.login&&t.login(...o),["enter"])),type:"email",class:"form-control",id:"username",placeholder:"name@example.com",required:"",autofocus:""},null,544),[[l,r.user.username]]),x]),e("div",b,[a(e("input",{"onUpdate:modelValue":s[2]||(s[2]=o=>r.user.password=o),onKeyup:s[3]||(s[3]=d((...o)=>t.login&&t.login(...o),["enter"])),type:"password",class:"form-control",id:"password",placeholder:"Password",required:""},null,544),[[l,r.user.password]]),y]),e("button",{onClick:s[4]||(s[4]=(...o)=>t.login&&t.login(...o)),class:"btn btn-lg btn-primary w-100 mt-3",type:"button"}," 登入 ")])])])])}const K=u(p,[["render",k]]);export{K as default};
